# Индивидуальный проект #7
## Выполнил: Данил Ижаев
## Описание проекта


Реализовать приложение, выполняющее тестирование по системе Лейтнера.
Приложение должно поддерживать CRUD-операции с тестами, запуск
тестирования, сохранение прогресса по тестам. Тесты и результаты тестирования
должны храниться в БД. Реализовать механизм экспорта прогресса по тестам в
XML-файл.

### Уточним некоторые детали проекта:
1. В данном проекте использована система Лейтнера, состоящая из 3 коробок.
   Карточки, в зависимости от коробки, в которой находятся, будут реже или
   чаще попадаться в тестах. То есть карточек из 1 коробки в тесте будет
   больше чем карточек из 3 коробки (кроме случая, когда пользователь
   идеально знает все слова, и все карточки находятся в 3 коробке. Тогда
   карточки будут попадаться только из 3 коробки, что очевидно)
2. Пользователь-администратор имеет 4 команды:
    1. Создать карточку
    2. Просмотреть карточки
    3. Удалить карточку
    4. Выйти из программы
3. Обычные пользователи имеют 3 команды:
    1. Запустить тестирование
    2. Импортировать результаты в файл с расширением `.xml`
    3. Выйти из программы
4. ***Карточка***, в контексте проекта, содержит в себе слово на английском
   языке,
   корректный перевод иностранного слова и два некорректных.
5. База данных включает в себя 3 таблицы:
    1. `cards` -- в ней хранятся карточки. Данная таблица содержит в себе 5
       полей: `id`, `word`, `option1correct`, `option2incorrect`,
       `option3incorrect`. Первое поле -- это ID карточки (*число*),
       который является первичным ключом, остальные же поля соответствуют
       описанию понятия '***карточка***' (*строки*).
    2. `users` -- в ней хранятся пользователи. Данная таблица содержит в себе
       всего 2 поля -- `id` и `username`. Первое поле, аналогично
       таблице `cards`, -- это ID пользователя (*число*), который также является
       первичным ключом, а второе поле -- это никнейм пользователя (*строка*).
    3. `usercards` -- в ней хранится расположение карточек в коробках для
       каждого пользователя. Данная таблица содержит в себе 3 поля:
       `user_id`, `card_id` и `box`. Первичный ключ будет состоять из двух
       полей -- `user_id` и `card_id`, которые в свою очередь будут внешними
       ключами, которые связаны с `users.id` и `cards.id` соответственно.
       Поле `box` будет обозначать коробку, в которой слово с ID `card_id`
       находится у пользователя с ID `user_id`.

## Зависмости
В моём проекте используются зависмость h2, для работы с базой данных, и
зависимости JAXB, необходимые для сериализации и работы с файлами с
расширением `.xml`.


## Запуск программы
1. Заходим в проект, открываем терминал и вставляем следующую строку, чтобы
   осуществить запуск базы данных в режиме сервера (или можно нажать на иконку
   рядом со строкой):

```shell
java -cp lib/h2-2.1.214.jar org.h2.tools.Server
```

![](/images/launchDatabase.png)

2. Далее открываем DBeaver, где выполняем скрипт, называющийся
   `prepare_database.sql`. Он создаст 3 таблицы, описанные выше, и наполнит
   таблицу `cards` минимальным набором слов:

*Скрипт создания таблиц в базе данных*

![](/images/prepareDatabaseScript.png)

---

*Таблица `cards` с минимальным набором слов*

![](/images/prepareDatabaseTableCards.png)

3. Запускаем `Main.java`:

![](/images/runMain.png)

4. Можно приступать к тестам или заняться административной работой!

![](/images/work.png)

## Функцинал
Запустив программу, мы можем ввести '*admin*' или же любой никнейм,
кроме '*admin*', и пройти тесты и посмотреть на свой результат.

Сначала выберем путь администратора:
1. Вводим '*admin*'. Нам предоставляется на выбор 4 действия и предлагается
   ввести номер желаемого действия:

![](/images/adminActions.png)

2. Вводим '1'. Нам предлагают создать ***карточку***. Соответственно, мы
   должны ввести слово на английском языке, потом корректный вариант ответа, а
   затем два некорректных варианта ответа:

![](/images/creationCard.png)

3. Отлично, мы создали карточку, это можно увидеть в таблице `cards`:

*Обновлённая таблица `cards`*

![](/images/updatedTableCards.png)

4. Нам вновь предлагают 4 действия на выбор. В этот раз введём 2. Нам сразу
   выведется первая ***карточка***, а также нам предложат показать следующую.
   Мы можем нажать `Enter` или ввести 'Y' для того, чтобы посмотреть
   следующую карточку, или же мы можем ввести 'n', чтобы прекратить просмотр:

![](/images/showingCards.png)

5. Теперь же выберем 3 действие и удалим любую ***карточку***, например
   недавно созданную, с ID 16, что мы увидели из 3 пункта.

*Удаление ***карточки*** с ID 16*

![](/images/deletingCard.png)

*Таблица `cards` без ***карточки*** с ID 16*

![](/images/deleteCardFromTable.png)

6. Выйдем из программы, введя 4:

![](/images/adminExit.png)

---

Теперь же войдём как обычный пользователь:
1. Вводим любой никнейм, например, Zaliann:

*Обновлённая таблица `users`*

![](/images/usersWithZaliann.png)

*Предлагаемые действия*

![](/images/offeredActions.png)

2. Введём 1 и пройдём тестирование:

*Первая часть теста 1*

![](/images/firstPartFirstTest.png)

*Вторая часть теста 1*

![](/images/secondPartFirstTest.png)

3. Пройдём тест ещё раз, чтобы убедиться, что в нём присутствуют слова,
   которых не было в первом тесте, а также для дальнейшего результата:

*Первая часть теста 2*

![](/images/firstPartSecondTest.png)

*Вторая часть теста 2*

![](/images/secondPartSecondTest.png)

4. Введём 2 и посмотрим на наш результат в формате `.xml`:D

*Ввод 2*

![](/images/showingResults.png)

*Часть файла с результатами*

![](/images/fileWithResults.png)

5. Выйдем из программы, введя 3:

![](/images/userExit.png)

## Итоги
Вы дошли до конца описания проекта!

P.S. Спасибо за курс, было очень интересно и познавательно! Никогда с такой
скоростью не погружался в язык программирования. Даже и не верится, что 9
лекций так быстро пролетели.